@using MudBlazor;

@namespace HyperUI.Blazor.Internal

@inject NavigationManager NavigationManager;

<MudNavLink Class="rounded-xl" Href="@Path" Icon="@GetMudIconName()">@Title</MudNavLink>

@code {
    /// <summary>
    /// The hint for which icon to use in the nav menu link. Based on MudBlazor icon names.
    /// </summary>
    [Parameter]
    public string? IconHint { get; set; }

    /// <summary>
    /// The OpenAPI path the the resource.
    /// </summary>
    [Parameter]
    public string? Path { get; set; }

    /// <summary>
    /// Title for the nav menu link.
    /// </summary>
    [Parameter]
    public string? Title { get; set; }

    /// <summary>
    /// Gets the MUD icon name from the icon hint. Defaults to List if no mapping is set.
    /// </summary>
    /// <returns>MUD icon name.</returns>
    private string GetMudIconName() => IconHint switch
    {
        "Add" => Icons.Material.Filled.Add,
        "CheckBox" => Icons.Material.Filled.CheckBox,
        "CheckBoxOutlineBlank" => Icons.Material.Filled.CheckBoxOutlineBlank,
        "DateRange" => Icons.Material.Filled.DateRange,
        "Delete" => Icons.Material.Filled.Delete,
        "Edit" => Icons.Material.Filled.Edit,
        "Event" => Icons.Material.Filled.Event,
        "Notifications" => Icons.Material.Filled.Notifications,
        "People" => Icons.Material.Filled.People,
        "PostAdd" => Icons.Material.Filled.PostAdd,
        "SafetyCheck" => Icons.Material.Filled.SafetyCheck,
        "ShowChart" => Icons.Material.Filled.ShowChart,
        "SwapHorizontalCircle" => Icons.Material.Filled.SwapHorizontalCircle,
        "QueueMusic" => Icons.Material.Filled.QueueMusic,
        _ => Icons.Material.Filled.List
    };

    /// <summary>
    /// Click event handler.
    /// </summary>
    private void OnNavLinkClick()
    {
        if (Path != null)
            NavigationManager.NavigateTo(Path);
    }
}